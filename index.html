<!doctype html>
<html lang="en-US">
  <head>
    	<meta charset="utf-8" />
    	<meta name="viewport" content="width=device-width" />

    	<title>My page title</title>
    	<link rel="stylesheet" href="style.css" />
  </head>

  <body>

    <header>
      <h1>Header</h1>
    </header>

    <main>
			<div data-v-2eae98aa="" class="address-compact widget-content">
				<div data-v-2eae98aa="">
					<a href="/admin/orders/orderList/bvOUVca67kE1"> Lathan Pugh </a>
					<div>
						<div>107 Road E</div>
						<div> Apt D </div>
						<div>
							<span>
								<span>Tamuning, </span>
							</span>
							<span>
								<span>GU </span>
							</span>
							<span>
								<span>96913-3747</span>
							</span>
						</div>
					</div>
				</div>
			</div>
			<input id="taco-button" type="button" value="Click for pRon" />
	</main>

    <footer>
      <p>Â©Copyright 2050 by nobody. All rights reversed.</p>
    </footer>

  </body>

  <script type="text/javascript">
  	var button = document.getElementById("taco-button");

  	var fuckingAddressStuff = document.getElementsByClassName("address-compact")[0].getElementsByTagName("div")[0].children;
	  
  	var name = fuckingAddressStuff[0].textContent.trimStart(); // just the text
  	
  	var addressPieces = fuckingAddressStuff[1].children; // collection
  	var numAddressPieces = addressPieces.length;
		var lastInArray = numAddressPieces - 1;
  
  	var fullAddress = name + "\n";

  	for (var i=0; i < numAddressPieces; i++)
  	{
  		if(i != lastInArray)
  		{
  			fullAddress += addressPieces[i].textContent.trimStart() + "\n";
  		}
  		else 
  		{
  			// it's the city, state, zip
  			var spans = addressPieces[i].querySelectorAll("span span");
  			var numSpans = spans.length;
  			var citystatezip = "";
  			for (var j=0; j < numSpans; j++ )
  			{
  				citystatezip += spans[j].textContent;
  			}
  			fullAddress += citystatezip;
  		}
  	}

  	console.log(fullAddress)

  	
  	button.addEventListener("click", () => writeClipboardText(fullAddress));
		async function writeClipboardText(text) {
		  try {
		    await navigator.clipboard.writeText(text);
		  } catch (error) {
		    console.error(error.message);
		  }
		}

  </script>
</html>